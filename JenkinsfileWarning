pipeline {
	agent any
	stages {
	stage('QA checks') {
		steps {
			recordIssues([
				enabledForFailure: true,
				tools: [php()]
			])
		}
	}
	
	}
	post {
		always {
			junit testResults: '**/target/surefire-reports/TEST-*.xml'
			recordIssues enabledForFailure: true, tools: [php()]
			recordIssues enabledForFailure: true, tool: checkStyle()
			recordIssues enabledForFailure: true, tool: spotBugs(pattern:'**/target/findbugsXml.xml')
			recordIssues enabledForFailure: true, tool: cpd(pattern: '**/target/cpd.xml')
			recordIssues enabledForFailure: true, tool: pmdParser(pattern: '**/target/pmd.xml')
		}
	}
}